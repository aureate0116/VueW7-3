import{M as v}from"./bootstrap.esm-434bcbc7.js";import{_ as f,o as d,c,a as t,F as _,e as h,f as m,d as i,t as e,n as y}from"./index-4c5aa5b2.js";const{VITE_API_URL:b,VITE_API_PATH:p}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"rena",BASE_URL:"/VueW7-3",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let g=null;const P={data(){return{products:[],productId:"",tempProduct:{imagesUrl:[]}}},methods:{getProducts(){this.$http.get(`${b}/api/${p}/products/all`).then(l=>{console.log(l),this.products=l.data.products,console.log(this.products)})},addToCart(l){const n={product_id:l,qty:1};this.$http.post(`${b}/api/${p}/cart`,{data:n}).then(u=>{alert("已加入購物車"),console.log(u)})},openModal(l){this.tempProduct={...l},g.show()}},components:{},mounted(){this.getProducts(),g=new v(document.getElementById("productModal"))}},k=t("h3",{class:"fw-bold"},"產品列表",-1),I={class:"table table-striped"},M=t("thead",null,[t("tr",null,[t("th",null,"圖片"),t("th",null,"商品名稱"),t("th",null,"價格"),t("th")])],-1),w={style:{width:"200px"}},C={key:0,class:"h5"},T={class:"h6"},V={class:"h5"},x={class:"btn-group btn-group-sm"},A=["onClick"],E=["onClick","disabled"],U={id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},L={class:"modal-dialog modal-xl"},B={class:"modal-content border-0"},R=t("div",{class:"modal-header bg-dark text-white"},[t("h5",{id:"productModalLabel",class:"modal-title"}," 瀏覽產品 "),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),S={class:"modal-body"},D={class:"row"},N={class:"col-sm-4"},z={class:"mb-2"},F=["src","alt"],H={key:0},O=["src"],q={class:"col-sm-8"},W={class:"mb-3"},j=t("label",{for:"title",class:"form-label"},"標題 : ",-1),G={class:"row"},J={class:"mb-3 col-md-6"},K=t("label",{for:"category",class:"form-label"},"分類 : ",-1),Q={class:"mb-3 col-md-6"},X=t("label",{for:"price",class:"form-label"},"單位 : ",-1),Y={class:"row"},Z={class:"mb-3 col-md-6"},$=t("label",{for:"origin_price",class:"form-label"},"原價 : ",-1),tt={class:"mb-3 col-md-6"},st=t("label",{for:"price",class:"form-label"},"售價",-1),ot=t("hr",null,null,-1),et={class:"mb-3"},lt=t("label",{for:"description",class:"form-label"},"產品描述",-1),dt=t("hr",null,null,-1),ct={class:"mb-3"},it=t("label",{for:"content",class:"form-label"},"說明內容",-1),nt={class:"modal-footer"},at=t("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function rt(l,n,u,_t,o,a){return d(),c(_,null,[k,t("table",I,[M,t("tbody",null,[(d(!0),c(_,null,h(o.products,s=>(d(),c("tr",{key:s.id},[t("td",w,[t("div",{style:y([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${s.imageUrl})`}])},null,4)]),t("td",null,e(s.title),1),t("td",null,[s.price===s.origin_price?(d(),c("div",C,e(s.price)+" 元 ",1)):m("",!0),t("del",T,"原價 "+e(s.origin_price)+" 元",1),t("div",V,"現在只要 "+e(s.price)+" 元",1)]),t("td",null,[t("div",x,[t("button",{type:"button",class:"btn btn-outline-secondary",onClick:r=>a.openModal(s)}," 查看更多 ",8,A),t("button",{type:"button",class:"btn btn-outline-danger",onClick:r=>a.addToCart(s.id),disabled:s.id===l.loadingItem}," 加到購物車 ",8,E)])])]))),128))])]),t("div",U,[t("div",L,[t("div",B,[R,t("div",S,[t("div",D,[t("div",N,[t("div",z,[t("img",{class:"img-fluid",src:o.tempProduct.imageUrl,alt:o.tempProduct.title},null,8,F)]),Array.isArray(o.tempProduct.imagesUrl)?(d(),c("div",H,[(d(!0),c(_,null,h(o.tempProduct.imagesUrl,(s,r)=>(d(),c("div",{key:r+1},[t("img",{class:"img-fluid",src:s,width:"150"},null,8,O)]))),128))])):m("",!0)]),t("div",q,[t("div",W,[j,i(" "+e(o.tempProduct.title),1)]),t("div",G,[t("div",J,[K,i(" "+e(o.tempProduct.category),1)]),t("div",Q,[X,i(" "+e(o.tempProduct.unit),1)])]),t("div",Y,[t("div",Z,[$,i(" "+e(o.tempProduct.origin_price),1)]),t("div",tt,[st,i(" "+e(o.tempProduct.price),1)])]),ot,t("div",et,[lt,i(" "+e(o.tempProduct.description),1)]),dt,t("div",ct,[it,i(" "+e(o.tempProduct.content),1)])])])]),t("div",nt,[at,t("button",{type:"button",class:"btn btn-primary",onClick:n[0]||(n[0]=s=>a.addToCart(o.tempProduct.id))}," 加入購物車 ")])])])],512)],64)}const mt=f(P,[["render",rt]]);export{mt as default};
