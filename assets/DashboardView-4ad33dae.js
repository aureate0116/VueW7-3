import{_,r as l,o as u,c as h,a,b as t,w as o,j as v,d as n}from"./index-4c5aa5b2.js";const{VITE_API_URL:p}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"rena",BASE_URL:"/VueW7-3",MODE:"production",DEV:!1,PROD:!0,SSR:!1},b={methods:{logout(){document.cookie=`userToken= ;expires=${new Date}; path=/`,this.$router.push("/")},checkAdmin(){const c=document.cookie.replace(/(?:(?:^|.*;\s*)userToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=c,this.$http.post(`${p}/api/user/check`).then(s=>{console.log(s),s.data.success||this.$router.push("/login")}).catch(s=>{alert(s.response.data.message),this.$router.push("/login")})}},mounted(){this.checkAdmin()}},m={class:"container-fluid"},f={class:"navbar navbar-expand-lg navbar-light bg-light"},g={class:"container-fluid"},k=a("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[a("span",{class:"navbar-toggler-icon"})],-1),$={class:"collapse navbar-collapse justify-content-between",id:"navbarNav"},w={class:"navbar-nav"},x={class:"nav-item"},V={class:"nav-item"},A={class:"navbar-nav"},T={class:"nav-item"},E={class:"nav-item"},I={class:"container py-5"};function N(c,s,D,P,R,i){const e=l("router-link"),r=l("router-view");return u(),h("div",m,[a("nav",f,[a("div",g,[t(e,{class:"navbar-brand fw-bold",to:"/"},{default:o(()=>[n("後台管理")]),_:1}),k,a("div",$,[a("ul",w,[a("li",x,[t(e,{class:"nav-link",to:"/admin/products"},{default:o(()=>[n("產品管理")]),_:1})]),a("li",V,[t(e,{class:"nav-link",to:"/admin/orders"},{default:o(()=>[n("訂單管理")]),_:1})])]),a("ul",A,[a("li",T,[t(e,{class:"nav-link",to:"/"},{default:o(()=>[n("回前台")]),_:1})]),a("li",E,[a("a",{href:"#",class:"nav-link",onClick:s[0]||(s[0]=v((...d)=>i.logout&&i.logout(...d),["prevent"]))},"登出")])])])])]),a("div",I,[t(r)])])}const y=_(b,[["render",N]]);export{y as default};
