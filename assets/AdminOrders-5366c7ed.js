import{_ as a,o as r,c as d,d as c,t as h,F as n,a as i,l}from"./index-269edc5c.js";const{VITE_API_URL:s,VITE_API_PATH:p}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"rena",BASE_URL:"/VueW7-3",MODE:"production",DEV:!1,PROD:!0,SSR:!1},u={data(){return{orders:[]}},mounted(){this.checkAdmin()},methods:{checkAdmin(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)userToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t,this.$http.post(`${s}/api/user/check`).then(e=>{this.getOrders(),console.log(e),e.data.success||this.$router.push("/login")}).catch(e=>{alert(e.response.data.message),this.$router.push("/login")})},getOrders(){this.$http.get(`${s}/api/${p}/admin/orders`).then(t=>{this.orders=t.data,console.log(t),console.log(t.data.orders)}).catch(t=>{console.log(t)})}}},_=i("h3",{class:"fw-bold"},"後台訂單列表",-1),m=l('<table class="table table-striped mt-5"><thead><tr><th>訂單時間</th><th>Email</th><th>購買品項</th><th>應付金額</th><th>是否付款</th><th>編輯</th></tr></thead><tbody><tr><td>訂單時間</td><td>Email</td><td>購買品項</td><td>應付金額</td><td>是否付款</td><td>編輯</td></tr></tbody></table>',1);function $(t,e,g,f,o,A){return r(),d(n,null,[_,c(" "+h(o.orders)+" ",1),m],64)}const V=a(u,[["render",$]]);export{V as default};
