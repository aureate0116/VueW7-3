import{_ as h,r,o as u,c as v,a as t,b as e,w as n,j as p,d as c}from"./index-dde84921.js";const{VITE_API_URL:l}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"rena",BASE_URL:"/VueW7-3",MODE:"production",DEV:!1,PROD:!0,SSR:!1},b={methods:{logout(){this.$http.post(`${l}/logout`).then(a=>{document.cookie='userToken="" ;expires="" ; path=/',this.$router.push("/")}).catch(a=>{alert(a.response.data.message)})},checkAdmin(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)userToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=a,this.$http.post(`${l}/api/user/check`).then(s=>{console.log(s),s.data.success||this.$router.push("/login")}).catch(s=>{alert(s.response.data.message),this.$router.push("/login")})}},mounted(){this.checkAdmin()}},g={class:"container-fluid"},m={class:"navbar navbar-expand-lg navbar-light bg-light"},f={class:"container-fluid"},k=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1),$={class:"collapse navbar-collapse justify-content-between",id:"navbarNav"},x={class:"navbar-nav"},V={class:"nav-item"},w={class:"nav-item"},A={class:"navbar-nav"},T={class:"nav-item"},E={class:"nav-item"},I={class:"container py-5"};function N(a,s,P,R,B,i){const o=r("router-link"),d=r("router-view");return u(),v("div",g,[t("nav",m,[t("div",f,[e(o,{class:"navbar-brand fw-bold",to:"/"},{default:n(()=>[c("後台管理")]),_:1}),k,t("div",$,[t("ul",x,[t("li",V,[e(o,{class:"nav-link",to:"/admin/products"},{default:n(()=>[c("產品管理")]),_:1})]),t("li",w,[e(o,{class:"nav-link",to:"/admin/orders"},{default:n(()=>[c("訂單管理")]),_:1})])]),t("ul",A,[t("li",T,[e(o,{class:"nav-link",to:"/"},{default:n(()=>[c("回前台")]),_:1})]),t("li",E,[t("a",{href:"#",class:"nav-link",onClick:s[0]||(s[0]=p((..._)=>i.logout&&i.logout(..._),["prevent"]))},"登出")])])])])]),t("div",I,[e(d)])])}const y=h(b,[["render",N]]);export{y as default};
